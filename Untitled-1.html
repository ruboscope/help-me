<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
  function count(s, pairs) {
      if (pairs.length > 7) {
        return NaN;
      }
      // your implementation
      var totalSimpleMultiplier = 1;
      var gcdTemp = 0;
      var totalN = 1;
      var result = 0;
      debugger;
      for (var i = 0; i < pairs.length; i++) {
        totalSimpleMultiplier *= pairs[i][0];
        totalN *= (pairs[i][1] == 1) ? 1 : modularPow(pairs[i][0], pairs[i][1] - 1, 1000000007);
        totalN = totalN % 1000000007;
      }
      for (var k = 1; k <= totalSimpleMultiplier; k++) {
        var isCond = true;
        for (var j = 0; j < s.length; j++) {
          gcdTemp = gcd((k + j), totalSimpleMultiplier);
          if (s[j] === '0' && gcdTemp === 1 || s[j] === '1' && gcdTemp !== 1) {
            isCond = false;
            break;
          }
        }
        if (isCond) {
          result++;
        }
      }
      result *= totalN;
      return result % 1000000007;
    }

    // gcd alghorithm
    gcd = function (n, m) {
      var r = 0;
      while (n !== 0) {
        r = m % n;
        m = n;
        n = r;
      }
      return m;
    };


    function modularPow(a, b, n) {
      a = a % n;
      var result = 1;
      var x = a;

      while (b > 0) {
        var leastSignificantBit = b % 2;
        b = Math.floor(b / 2);

        if (leastSignificantBit == 1) {
          result = result * x;
          result = result % n;
        }

        x = x * x;
        x = x % n;
      }
      return result;
    };
    var result = count('1011', [[5, 1], [7, 1]]);
  </script>
</body>
</html>